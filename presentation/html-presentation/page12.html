<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Interceptors & Cross-cutting Concerns</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- Prism.js for syntax highlighting -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
  </head>
  <body
    style="
      width: 100vw;
      height: 100vh;
      margin: 0;
      padding: 0;
      overflow: hidden;
      font-family: &quot;Inter&quot;, sans-serif;
      background: linear-gradient(
        135deg,
        #1a1a1a 0%,
        #2d2d2d 50%,
        #1f1f1f 100%
      );
      display: flex;
      align-items: center;
      justify-content: center;
    "
  >
    <div
      class="w-full h-full flex items-center justify-center p-4 sm:p-6 lg:p-8"
      style="
        max-width: 100vw;
        max-height: 100vh;
        box-sizing: border-box;
        transform: scale(0.75);
      "
    >
      <div class="max-w-7xl w-full">
        <!-- Header -->
        <div class="text-center mb-6 animate__animated animate__fadeInDown">
          <i class="fas fa-filter text-4xl text-purple-400 mb-3"></i>
          <h1 class="text-3xl font-bold text-white mb-2 leading-tight">
            Interceptors &
            <span class="text-purple-400">Cross-cutting Concerns</span>
          </h1>
          <h2 class="text-lg text-gray-300">
            Aspect-Oriented Programming for Clean, Maintainable Code
          </h2>
        </div>

        <!-- Three Interceptors Grid -->
        <div
          class="grid grid-cols-3 gap-6 animate__animated animate__fadeInUp animate__delay-1s"
        >
          <!-- Logging Interceptor -->
          <div
            class="bg-gray-800/60 backdrop-blur-lg rounded-xl p-5 border border-gray-600/30"
          >
            <h3
              class="text-lg font-semibold text-blue-400 mb-3 flex items-center"
            >
              <i class="fas fa-clipboard-list mr-2"></i>
              LoggingInterceptor
            </h3>

            <div class="bg-black/50 rounded-lg p-3 overflow-hidden mb-3">
              <pre
                class="text-xs"
              ><code class="language-typescript">@Injectable()
export class LoggingInterceptor {
  intercept(context, next) {
    const start = Date.now();
    return next.handle().pipe(
      tap(() => {
        const duration = Date.now() - start;
        this.logger.log(`${duration}ms`);
      })
    );
  }
}</code></pre>
            </div>

            <div class="space-y-1">
              <div class="flex items-center space-x-2">
                <i class="fas fa-check text-emerald-400 text-xs"></i>
                <span class="text-gray-300 text-xs">Request timing</span>
              </div>
              <div class="flex items-center space-x-2">
                <i class="fas fa-check text-emerald-400 text-xs"></i>
                <span class="text-gray-300 text-xs">Performance metrics</span>
              </div>
              <div class="flex items-center space-x-2">
                <i class="fas fa-check text-emerald-400 text-xs"></i>
                <span class="text-gray-300 text-xs">Audit trails</span>
              </div>
            </div>
          </div>

          <!-- Transform Interceptor -->
          <div
            class="bg-gray-800/60 backdrop-blur-lg rounded-xl p-5 border border-gray-600/30"
          >
            <h3
              class="text-lg font-semibold text-emerald-400 mb-3 flex items-center"
            >
              <i class="fas fa-exchange-alt mr-2"></i>
              TransformInterceptor
            </h3>

            <div class="bg-black/50 rounded-lg p-3 overflow-hidden mb-3">
              <pre
                class="text-xs"
              ><code class="language-typescript">@Injectable()
export class TransformInterceptor {
  intercept(context, next) {
    return next.handle().pipe(
      map(data => ({
        success: true,
        timestamp: new Date().toISOString(),
        data
      }))
    );
  }
}</code></pre>
            </div>

            <div class="space-y-1">
              <div class="flex items-center space-x-2">
                <i class="fas fa-check text-emerald-400 text-xs"></i>
                <span class="text-gray-300 text-xs">Response envelope</span>
              </div>
              <div class="flex items-center space-x-2">
                <i class="fas fa-check text-emerald-400 text-xs"></i>
                <span class="text-gray-300 text-xs">Consistent format</span>
              </div>
              <div class="flex items-center space-x-2">
                <i class="fas fa-check text-emerald-400 text-xs"></i>
                <span class="text-gray-300 text-xs">Metadata injection</span>
              </div>
            </div>
          </div>

          <!-- Cache Interceptor -->
          <div
            class="bg-gray-800/60 backdrop-blur-lg rounded-xl p-5 border border-gray-600/30"
          >
            <h3
              class="text-lg font-semibold text-orange-400 mb-3 flex items-center"
            >
              <i class="fas fa-database mr-2"></i>
              CacheInterceptor
            </h3>

            <div class="bg-black/50 rounded-lg p-3 overflow-hidden mb-3">
              <pre
                class="text-xs"
              ><code class="language-typescript">@Injectable()
export class CacheInterceptor {
  intercept(context, next) {
    const key = this.getCacheKey(context);
    const cached = this.cache.get(key);

    if (cached) {
      return of(cached);
    }

    return next.handle().pipe(
      tap(data => this.cache.set(key, data))
    );
  }
}</code></pre>
            </div>

            <div class="space-y-1">
              <div class="flex items-center space-x-2">
                <i class="fas fa-check text-emerald-400 text-xs"></i>
                <span class="text-gray-300 text-xs">Response caching</span>
              </div>
              <div class="flex items-center space-x-2">
                <i class="fas fa-check text-emerald-400 text-xs"></i>
                <span class="text-gray-300 text-xs">Performance boost</span>
              </div>
              <div class="flex items-center space-x-2">
                <i class="fas fa-check text-emerald-400 text-xs"></i>
                <span class="text-gray-300 text-xs">TTL configuration</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Usage Examples -->
        <div
          class="mt-6 grid grid-cols-2 gap-6 animate__animated animate__fadeInUp animate__delay-2s"
        >
          <!-- Global Setup -->
          <div
            class="bg-gray-900/60 backdrop-blur-lg rounded-xl p-5 border border-purple-500/30"
          >
            <h3
              class="text-lg font-semibold text-purple-400 mb-3 flex items-center"
            >
              <i class="fas fa-globe mr-2"></i>
              Global Configuration
            </h3>
            <div class="bg-black/50 rounded-lg p-3 overflow-hidden">
              <pre class="text-sm"><code class="language-typescript">// main.ts
app.useGlobalInterceptors(
  new LoggingInterceptor(),
  new TransformInterceptor()
);

// Per-route caching
@UseInterceptors(CacheInterceptor)
@CacheKey('weather')
@CacheTTL(300)
@Get('/weather')
getWeather() { ... }</code></pre>
            </div>
          </div>

          <!-- Benefits -->
          <div
            class="bg-gray-900/60 backdrop-blur-lg rounded-xl p-5 border border-emerald-500/30"
          >
            <h3
              class="text-lg font-semibold text-emerald-400 mb-3 flex items-center"
            >
              <i class="fas fa-star mr-2"></i>
              Key Benefits
            </h3>
            <div class="space-y-3">
              <div class="flex items-start space-x-3">
                <i class="fas fa-layer-group text-blue-400 mt-1"></i>
                <div>
                  <div class="text-white font-medium text-sm">
                    Separation of Concerns
                  </div>
                  <div class="text-gray-400 text-xs">
                    Cross-cutting logic isolated
                  </div>
                </div>
              </div>
              <div class="flex items-start space-x-3">
                <i class="fas fa-recycle text-emerald-400 mt-1"></i>
                <div>
                  <div class="text-white font-medium text-sm">Reusability</div>
                  <div class="text-gray-400 text-xs">
                    Apply to any controller/route
                  </div>
                </div>
              </div>
              <div class="flex items-start space-x-3">
                <i class="fas fa-vial text-purple-400 mt-1"></i>
                <div>
                  <div class="text-white font-medium text-sm">Testability</div>
                  <div class="text-gray-400 text-xs">
                    Easy to unit test in isolation
                  </div>
                </div>
              </div>
              <div class="flex items-start space-x-3">
                <i class="fas fa-cogs text-orange-400 mt-1"></i>
                <div>
                  <div class="text-white font-medium text-sm">
                    Composability
                  </div>
                  <div class="text-gray-400 text-xs">
                    Chain multiple interceptors
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="absolute bottom-8 left-12 text-gray-500 text-sm">
      International JavaScript Conference NYC 2025
    </div>
  </body>
</html>
